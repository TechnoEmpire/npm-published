@use "../styles/scss/abstracts/index" as *;

/* Mixin---------------------------------------------- */
$breakpoints: (
  "s": "screen and (max-width:480px)",
  "m": "screen and (max-width: 767px) and (min-width:480px)",
  "l": "screen and (max-width: 1000px) and (min-width: 767px)",
  "xl": "screen and (min-width: 1001px) ",
) !default;

@mixin mq($breakpoint: md) {
  @media #{map-get($breakpoints, $breakpoint)} {
    @content;
  }
}
// Example
// @include mq(l) {
//     color: red;
//   }

// A mixin for the repeated styles
@mixin labelStyling() {
  font-size: 1.4rem;
  border-radius: $borderRadius;
  padding: 1rem 2rem;
  font-weight: 400;
  transition: 0.5s ease;
  box-shadow: $shadow;
}

/* ---------------------------------------------- */

.modalWrap {
  display: inline-block;
  font-family: $fontFamily;

  // Change all input
  input[type="radio"] {
    display: none;
  }
}

// multiple classes for BUTTONS
.modal__open__label,
.modal__close__label {
  cursor: pointer;
}

.modal__open__label {
  @include labelStyling(); // mixin here
  background-color: $highlightColor;

  @include mq(s) {
    max-width: 90%;
    padding: 0.94em 2.1em 0.94em 2.6em;
  }

  &:hover {
    opacity: 0.8;
    filter: brightness(1.1);
  }
}

// ENTIRE OPENED MODAL
.modal {
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  display: none;

  // When the input is checked, display the modal
  &__open__input:checked + label + input + & {
    display: block;
    animation: modal-animation 0.6s;
  }

  // make modal box on top
  &__content__wrap {
    z-index: 2;
    border-radius: $borderRadius;
  }

  // CLOSE BUTTON
  &__close__label {
    background-color: $secondaryColor;
    color: $primaryColor;
    border-radius: $buttonBorderRadius;
    width: $spaceDouble;
    height: $spaceDouble;
    line-height: 1.5;
    text-align: center;
    display: table-cell;
    position: fixed;
    top: -15px;
    right: -2%;
    z-index: 99999;
    font-size: 1.4em;
  }

  // MODAL BOX CONTENT
  &__content {
    max-height: 50vh;
    overflow-y: auto;
    padding: 39px 45px 40px;

    @include mq(s) {
      padding: 1rem 1rem;
      max-width: 100%;
    }
  }

  // BACKGROUND
  &__background {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: $backgroundMute;
    z-index: 1;
    cursor: pointer;
  }
}

// Keyframes
@keyframes modal-animation {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

//! Animation css From Tenten
.modalContent {
  background-color: $primaryColor;
  width: 60%;
  max-width: 700px;
  margin: 0 auto;
  position: absolute;
  bottom: -400px;
  left: 50%;
  transform: translateX(-50%);
  border-radius: $borderRadius;
  box-shadow: $shadow;
  animation: slide-up 0.5s ease forwards;

  @include mq(s) {
    width: 90%;
  }

  &.slide-down {
    animation-name: slide-down;
    top: -400px;
    bottom: unset;
  }
}

// Keyframes for modalContent
@keyframes slide-up {
  to {
    bottom: 40%;
  }
}

@keyframes slide-down {
  to {
    top: 40%;
  }
}
